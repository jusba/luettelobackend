{"version":3,"sources":["components/Filterform.js","components/NameForm.js","services/Numbers.js","components/ListNames.js","components/ErrorMessage.js","App.js","index.js"],"names":["FilterForm","props","onSubmit","console","log","value","newSearch","onChange","handleNewSearch","NameForm","addPerson","newName","handleNameAdd","newNumber","handleNumberAdd","type","baseUrl","newObject","axios","post","then","response","data","get","id","delete","put","Button","text","person","set","deleteMessage","onClick","window","confirm","name","services","ListPerson","setPersons","number","ListNames","persons","filter","toLowerCase","includes","map","key","Notification","message","className","App","useState","useEffect","responsepersons","setNewName","setNewNumber","setSearch","newMessage","setMessage","event","target","preventDefault","some","i","find","setTimeout","catch","error","personsList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d1ea74a8.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n/* eslint-disable */\r\n\r\nconst addPerson = (event) => {\r\n    event.preventDefault()\r\n    \r\n\r\n}\r\nconst FilterForm = (props) => {\r\n    return (\r\n        <form onSubmit={console.log(\"toimii\")}>\r\n            <div>\r\n                filter shown with: <input\r\n                    value={props.newSearch}\r\n                    onChange={props.handleNewSearch}\r\n                />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FilterForm","import React, { useState } from 'react'\r\nconst NameForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input\r\n                    value={props.newName}\r\n                    onChange={props.handleNameAdd}\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    value={props.newNumber}\r\n                    onChange={props.handleNumberAdd}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\nexport default NameForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\nconst deletePerson = (id) => {\r\n    console.log(`${baseUrl}${id}`)\r\n    const request = axios.delete(`http://localhost:3001/api/persons/${id}`)\r\n    \r\n    return request.then(response => response.data)\r\n}\r\nconst updatePerson = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)    \r\n}\r\n \r\n\r\n\r\n\r\nexport default { create, getAll, deletePerson, updatePerson }","import React, { useState } from 'react'\r\nimport services from \"../services/Numbers\"\r\n\r\nconst Button = ({ text, person, set, deleteMessage }) => {\r\n\r\n    return (\r\n        <button onClick={() => {\r\n            if (window.confirm(`Delete ${person.name}?`)) {\r\n                services.deletePerson(person.id).then(response => {\r\n                    services.getAll().then(response => {\r\n                        set(response)\r\n                        deleteMessage(person.name)\r\n                    })\r\n                })\r\n            }\r\n        }\r\n        }>\r\n            {text}\r\n        </button>\r\n    )\r\n}\r\nconst ListPerson = ({ person, setPersons, deleteMessage }) => {\r\n    return (\r\n        <>{person.name} {person.number} <Button person={person} text={\"delete\"} set={setPersons} deleteMessage = {deleteMessage} /></>\r\n\r\n    )\r\n}\r\n\r\nconst ListNames = (props) => {\r\n    \r\n\r\n    return (\r\n        props.persons.filter(person => person.name.toLowerCase().includes(props.newSearch.toLowerCase())).map(person =>\r\n\r\n            <p key={person.name}>\r\n                <ListPerson person={person} setPersons={props.setPersons} deleteMessage = {props.deleteMessage} />\r\n            </p>\r\n        )\r\n    )\r\n}\r\nexport default ListNames","import React from 'react'\r\nimport '../App.css'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport FilterForm from \"./components/Filterform\"\r\nimport NameForm from \"./components/NameForm\"\r\nimport ListNames from \"./components/ListNames\"\r\nimport services from \"./services/Numbers\"\r\nimport Notification from \"./components/ErrorMessage\"\r\n\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  /* Pieni ongelma jäi toimivuuteen, että välillä puhelinnumerolista ei päivity samantien kun siihen lisätään usein. Tuli liian kiire niin en ehtinyt löytää korjausta */\r\n\r\n  const [persons, setPersons] = useState(\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n\r\n    services.getAll().then(responsepersons => {\r\n      setPersons(responsepersons)\r\n    })\r\n  }, [])\r\n\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setSearch] = useState(\"\")\r\n  const [newMessage, setMessage] = useState(null)\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n\r\n    if (persons.some(i => i.name === newName)) {\r\n      if (window.confirm(`${person.name} is already added to phonebook, replace the number with a new one?`)) {\r\n        services.updatePerson(persons.find(i => i.name === person.name).id, person).then(response => {\r\n          services.getAll().then(response => {\r\n            setPersons(response)\r\n            setNewNumber(\"\")\r\n            setNewName(\"\")\r\n            setMessage(`Modified ${person.name}`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n\r\n          })\r\n        }).catch(error => {\r\n          setMessage(`Information of ${person.name} has already been removed from server`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n        })\r\n      }\r\n\r\n\r\n    }\r\n    /*\r\n    if (persons.some(i => i.name === newName)) {\r\n      window.alert(`${newName} is already added to phonebook`)\r\n    }*/\r\n\r\n    else {\r\n\r\n      services.create(person)\r\n      services.getAll().then(responsepersons => {\r\n\r\n        setPersons(responsepersons)\r\n      })\r\n      setMessage(`Added ${person.name}`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n\r\n      setNewName(\"\")\r\n      setNewNumber(\"\")\r\n    }\r\n  }\r\n\r\n  const handleDelMessage = (name) =>{\r\n    setMessage(`Deleted ${name}`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n  }\r\n\r\n\r\n  const handleNameAdd = (event) => {\r\n    setNewName(event.target.value)\r\n    { console.log(newName) }\r\n  }\r\n  const handleNumberAdd = (event) => {\r\n    setNewNumber(event.target.value)\r\n    console.log(newNumber)\r\n  }\r\n\r\n  const handleNewSearch = (event) => {\r\n    console.log(event.target.value)\r\n    setSearch(event.target.value)\r\n  }\r\n  const showPersons = (personsList) => {\r\n    setPersons(personsList)\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={newMessage} />\r\n      <FilterForm newSearch={newSearch} handleNewSearch={handleNewSearch} />\r\n      <h3>Add a new number</h3>\r\n      <NameForm addPerson={addPerson} newName={newName} handleNameAdd={handleNameAdd} newNumber={newNumber} handleNumberAdd={handleNumberAdd} />\r\n      <h3>Numbers</h3>\r\n      <ListNames persons={persons} newSearch={newSearch} setPersons={showPersons} deleteMessage = {handleDelMessage} />\r\n    </div>\r\n  )\r\n}\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n"],"sourceRoot":""}